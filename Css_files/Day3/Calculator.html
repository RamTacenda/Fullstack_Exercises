<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css_calc.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"></script>
    <title>Calculator</title>
    <script>
        var string = '';
        function display(n){
            if(n == 'clear'){
                string = ''
            }
            else if(n == 'back'){
                string = string.slice(0, -1);
            }
            else{
                string += n;
            }
            document.getElementById("output").value = string;
        }
        function solve(){
            var vals = string;
            try{
                let x = math.evaluate(vals)
                document.getElementById('output').value = x;
                string = x;
            }
            catch(e){
                document.getElementById('output').value = "ERROR"
                string = '';
            }

        }
    </script>
</head>
<body>
    <div class="container">
        <h1> Calculator </h1>
    <table  style="text-align: center;">
        <tr>
            <th colspan= "4"> <input type="text" id="output" placeholder="0"> </th>
        </tr>
        <tr>
            <td> <button onclick="display('clear')"> C </button></td>
            <td> <button onclick="display('/100*')"> % </button></td>
            <td> <button onclick="display('back')"> <= </button></td>
            <td> <button onclick="display('/')"> /</button></td>
        </tr>
        <tr>
            <td> <button onclick="display('7')"> 7 </button></td>
            <td> <button onclick="display('8')"> 8 </button></td>
            <td> <button onclick="display('9')"> 9 </button></td>
            <td> <button onclick="display('*')"> * </button></td>
        </tr>
        <tr>
            <td> <button onclick="display('4')"> 4 </button></td>
            <td> <button onclick="display('5')"> 5 </button></td>
            <td> <button onclick="display('6')"> 6 </button></td>
            <td> <button onclick="display('-')"> - </button></td>
        </tr>
        <tr>
            <td> <button onclick="display('1')"> 1 </button></td>
            <td> <button onclick="display('2')"> 2 </button></td>
            <td> <button onclick="display('3')"> 3 </button></td>
            <td> <button onclick="display('+')"> + </button></td>
        </tr>
        <tr>
            <td> <button onclick="display('00')"> 00 </button></td>
            <td> <button onclick="display('0')"> 0 </button></td>
            <td> <button onclick="display('.')"> . </button></td>
            <td> <button onclick="solve()"> == </button></td>
        </tr>
    </table>
    </div>
</body>
</html>